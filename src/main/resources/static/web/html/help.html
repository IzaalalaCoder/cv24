<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Informations d'Aide</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .help-page {
            max-width: 800px;
            margin: auto;
        }
        .operation {
            margin-bottom: 20px;
        }
        h1 {
            text-align: center;
        }
        h2 {
            color: #2E8B57;
        }
        h3 {
            color: #4682B4;
        }

        h3 + p {
            width: max-content;
            padding: 6px;

            border-radius: 5px;
        }

        pre {
            background: #f4f4f4;
            padding: 10px;
            border: 1px solid #ddd;
        }
        .command {
            background: #e8f4fc;
            padding: 10px;
            border: 1px solid #b3d7e8;
            margin-top: 5px;
        }
        footer {
            display: flex;
            font-size: large;
            justify-content: center;
            padding-bottom: 15px;
            cursor: pointer;
            /* margin-bottom: 0px; */
            text-decoration: none;
        }
    </style>
</head>
<body>
<div class="help-page">
    <h1>Informations d'Aide</h1>

    <div class="operation">
        <h2>I - Description du service REST</h2>
        <p>Remarque : Le format de retour de chaque requête doit être respecté et homogène sur l'ensemble de l'application. Lorsque plusieurs formats sont proposés, un seul doit être implémenté pour la page concernée.</p>
    </div>
    <hr>
    <div class="operation">
        <h3>URL : /</h3>
        <p style="background-color: #61affe;"><strong>GET</strong></p>
        <p><strong>Opération :</strong> Affiche la page d’accueil</p>
        <p><strong>Retour :</strong> Format HTML ou XHTML valide</p>
        <p><strong>Description :</strong> Affiche la page d’accueil du projet avec les informations suivantes :</p>
        <ul>
            <li>Nom de votre projet</li>
            <li>Numéro de version</li>
            <li>Nom & Prénom de chaque membre de l'équipe</li>
            <li>Logo de l’Université de Rouen</li>
        </ul>
        <p><strong>Exemple de commande :</strong></p>
        <div class="command">
            <code>GET http://votre-domaine.com/</code>
        </div>
        <p><strong>Exemple de retour :</strong></p>
        <pre>&lt;html lang="en"&gt;
&lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;Page d'accueil&lt;/title&gt;
        &lt;link rel="stylesheet" href="web/styles/style.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="container"&gt;
        &lt;div id="information"&gt;
            &lt;h2>Projet : Service Rest | Version 2&lt;/h2&gt;
            &lt;p&gt;Izana Khabouri&lt;/p&gt;
            &lt;a href="/cv24/resume">Voir les CV&lt;/a&gt; | &lt;a href="/help">Voir l'aide&lt;/a&gt;
        &lt;/div&gt;
        &lt;div id="logo"&gt;
            &lt;img alt="Logo de l'université" src="web/asset/LOGO.jpg"&gt;
        &lt;/div>
    &lt;/div>
&lt;/body&gt;
&lt;/html&gt;</pre>
    </div>
<hr>
    <div class="operation">
        <h3>URL : /cv24/resume/xml</h3>
        <p style="background-color: #61affe;"><strong>GET</strong></p>
        <p><strong>Opération :</strong> Affiche la liste des CV stockés</p>
        <p><strong>Retour :</strong> Flux XML</p>
        <p><strong>Description :</strong> Liste contenant la synthèse des informations présentes dans la base. Pour chaque CV, ne seront affichés que les informations suivantes :</p>
        <ul>
            <li>Id : Valeur numérique auto-incrémentée lors de l'enregistrement d'un nouveau CV valide</li>
            <li>Identité : Genre, Prénom, Nom</li>
            <li>Objectif avec le statut spécifié en début de ligne</li>
            <li>Diplôme le plus élevé</li>
        </ul>
        <p><strong>Exemple de commande :</strong></p>
        <div class="command">
            <code>GET http://votre-domaine.com/cv24/resume/xml</code>
        </div>
        <p><strong>Exemple de retour :</strong></p>
        <pre>&lt;response&gt;
    &lt;cv&gt;
        &lt;id&gt;1&lt;/id&gt;
        &lt;identite&gt;
            &lt;genre&gt;Mme&lt;/genre&gt;
            &lt;prenom&gt;Martin&lt;/prenom&gt;
            &lt;nom&gt;MOUHNO&lt;/nom&gt;
        &lt;/identite&gt;
        &lt;objectif statut="stage"&gt;Developpeur&lt;/objectif&gt;
        &lt;diplome&gt;PREPA PTSI&lt;/diplome&gt;
    &lt;/cv&gt;
&lt;/response&gt;</pre>
    </div>
    <hr>
    <div class="operation">
        <h3>URL : /cv24/resume</h3>
        <p style="background-color: #61affe;"><strong>GET</strong></p>
        <p><strong>Opération :</strong> Affiche la liste des CV stockés</p>
        <p><strong>Retour :</strong> Page HTML (ou XHTML)</p>
        <p><strong>Description :</strong> Mêmes informations que précédemment mais présentées au format d'une page HTML. Une mise en page sera réalisée pour obtenir un affichage agréable.</p>
        <p><strong>Exemple de commande :</strong></p>
        <div class="command">
            <code>GET http://votre-domaine.com/cv24/resume</code>
        </div>
        <p><strong>Exemple de retour :</strong></p>
        <pre>&lt;html&gt;

&lt;head&gt;
	&lt;meta charset="UTF-8"&gt;
	&lt;title&gt; Liste de CV &lt;/title&gt;
	&lt;link rel="stylesheet" href="/web/styles/detail_cv.css"&gt;
&lt;/head&gt;

&lt;body&gt;
	&lt;div class="info"&gt;&lt;a href="/cv24/html?id=1" id="cv_id"&gt;1&lt;/a&gt;
		&lt;div&gt;
			&lt;div class="identity"&gt;
				&lt;h2&gt;Identité&lt;/h2&gt;
				&lt;p&gt;Mme&lt;/p&gt;
				&lt;p&gt;MOUHNO&lt;/p&gt;
				&lt;p&gt;Martin&lt;/p&gt;
			&lt;/div&gt;
			&lt;div class="objectif"&gt;
				&lt;h2&gt;Poste recherché&lt;/h2&gt;
				&lt;p&gt; Un stage en tant que Developpeur&lt;/p&gt;
			&lt;/div&gt;
			&lt;div class="diplomes"&gt;
				&lt;h2&gt;Diplome&lt;/h2&gt;
				&lt;p&gt;Diplome le plus haut : PREPA PTSI&lt;/p&gt;
			&lt;/div&gt;
            &lt;/div&gt;
	&lt;/div&gt;
	&lt;footer&gt;&lt;a href="/"&gt;Retour sur la page d'accueil&lt;/a&gt;&lt;/footer&gt;
&lt;/body&gt;</pre>
    </div>
    <hr>
    <div class="operation">
        <h3>URL : /cv24/xml?id=&lt;id&gt;</h3>
        <p style="background-color: #61affe;"><strong>GET</strong></p>
        <p><strong>Opération :</strong> Affiche le contenu complet du CV dont l’identifiant est transmis en paramètre</p>
        <p><strong>Retour :</strong> Flux XML conforme au schéma xsd cv24, comprenant un seul CV</p>
        <p><strong>Description :</strong> Intégralité de la spécification dont l’identifiant est fourni. Si l’identifiant est incorrect, retour d’un message d’erreur au format XML contenant :</p>
        <ul>
            <li>id → numéro de l’identifiant demandé</li>
            <li>status → ERROR</li>
        </ul>
        <p><strong>Exemple de commande :</strong></p>
        <div class="command">
            <code>GET http://votre-domaine.com/cv24/xml?id=1</code>
        </div>
        <p><strong>Exemple de retour :</strong></p>
        <pre>&lt;response&gt;
        &lt;id>1&lt;/id&gt;
        &lt;identite&gt;
        &lt;genre&gt;Mme&lt;/genre&gt;
        &lt;prenom&gt;Martin&lt;/prenom&gt;
        &lt;nom&gt;MOUHNO&lt;/nom&gt;
        &lt;mail&gt;mail@default.com&lt;/mail&gt;
        &lt;tel&gt;0512356948&lt;/tel&gt;
    &lt;/identite&gt;
    &lt;objectif statut="stage">Developpeur&lt;/objectif&gt;
    &lt;details&gt;
        &lt;detail&gt;
            &lt;titre&gt;Stage developpeur&lt;/titre&gt;
            &lt;date&gt;2001-01-01T00:00|2001-01-01T00:00
                &lt;/p&gt;
        &lt;/detail&gt;
    &lt;/details&gt;
    &lt;diplomes&gt;
        &lt;diplome&gt;
            &lt;titre&gt;Bac L&lt;/titre&gt;
            &lt;niveau&gt;5&lt;/niveau&gt;
            &lt;date&gt;2001-01-01 00:00:00.0&lt;/date&gt;
            &lt;institut&gt;Lycee Blaise&lt;/institut&gt;
        &lt;/diplome&gt;
        &lt;diplome&gt;
            &lt;titre&gt;PREPA PTSI&lt;/titre&gt;
            &lt;niveau&gt;8&lt;/niveau&gt;
            &lt;date&gt;2001-01-01 00:00:00.0&lt;/date&gt;
            &lt;institut&gt;Lycee Blaise&lt;/institut&gt;
        &lt;/diplome&gt;
    &lt;/diplomes&gt;
    &lt;certifs&gt;
        &lt;certif&gt;
            &lt;titre&gt;Bac S&lt;/titre&gt;
            &lt;date&gt;2001-01-01T00:00|2001-01-01T00:00&lt;/date&gt;
        &lt;/certif&gt;
    &lt;/certifs&gt;
    &lt;langs&gt;
        &lt;lang&gt;
            &lt;nom&gt;Francais&lt;/nom&gt;
            &lt;cert&gt;MAT&lt;/cert&gt;
            &lt;nivi&gt;80&lt;/nivi&gt;
            &lt;nivs&gt;C1&lt;/nivs&gt;
        &lt;/lang&gt;
    &lt;/langs&gt;
    &lt;comments&gt;
        &lt;comment&gt;
            &lt;titre&gt;Titre&lt;/titre&gt;
            &lt;c&gt;Commentaire&lt;/c&gt;
        &lt;/comment&gt;
    &lt;/comments&gt;
&lt;/response&gt;

&lt;!-- En cas d'erreur --&gt;
&lt;response&gt;
    &lt;id&gt;999&lt;/id&gt;
    &lt;status&gt;ERROR&lt;/status&gt;
&lt;/response&gt;</pre>
    </div>
    <hr>
    <div class="operation">
        <h3>URL : /cv24/html?id=&lt;id&gt;</h3>
        <p style="background-color: #61affe;"><strong>GET</strong></p>
        <p><strong>Opération :</strong> Affiche le contenu complet du CV dont l’identifiant est &lt;id&gt;</p>
        <p><strong>Retour :</strong> Page HTML (ou XHTML)</p>
        <p><strong>Description :</strong> Intégralité du CV dont l’identifiant est fourni par &lt;id&gt;. Si l’identifiant est incorrect, retour d’un message d’erreur au format HTML contenant :</p>
        <ul>
            <li>id → numéro de l’identifiant demandé</li>
            <li>status → ERROR</li>
        </ul>
        <p><strong>Exemple de commande :</strong></p>
        <div class="command">
            <code>GET http://votre-domaine.com/cv24/html?id=1</code>
        </div>
        <p><strong>Exemple de retour :</strong></p>
        <pre>&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt; Détail d'un CV &lt;/title&gt;
	    &lt;link rel="stylesheet" href="/web/styles/detail_cv.css"&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;div class="cv"&gt;
            &lt;div class="identity"&gt;
                &lt;h2&gt;Identité&lt;/h2&gt;
			    &lt;p&gt;Mme &lt;/p&gt;
			    &lt;p&gt;MOUHNO&lt;/p&gt;
			    &lt;p&gt;Martin&lt;/p&gt;
			    &lt;p&gt; Numéro de téléphone : 0512356948&lt;/p&gt;
			    &lt;p&gt; Adresse mail : mail@default.com&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="objectif"&gt;
			    &lt;h2&gt;Poste recherché&lt;/h2&gt;
			    &lt;p&gt; Un stage en tant que Developpeur&lt;/p&gt;
            &lt;/div&gt;
            &lt;h2&gt;Les professions&lt;/h2&gt;
            &lt;div class="details"&gt;
                &lt;div&gt;
                    &lt;h3&gt;Stage developpeur&lt;/h3&gt;
                    &lt;p&gt;2001-01-01T00:00 | 2001-01-01T00:00&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;h2>Les diplomes&lt;/h2&gt;
            &lt;div class="diplomes"&gt;
                &lt;div&gt;
                    &lt;h3&gt;Bac L&lt;/h3&gt;
                    &lt;p&gt;5 | 2001-01-01 00:00:00.0&lt;/p&gt;
                    &lt;p&gt;Lycee Blaise&lt;/p&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;h3&gt;PREPA PTSI&lt;/h3&gt;
                    &lt;p&gt;8 | 2001-01-01 00:00:00.0&lt;/p&gt;
                    &lt;p&gt;Lycee Blaise&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;h2&gt;Les certificats&lt;/h2&gt;
            &lt;div class="certifs"&gt;
                &lt;div&gt;
                    &lt;h3&gt;Bac S&lt;/h3&gt;
                    &lt;p&gt;2001-01-01T00:00 | 2001-01-01T00:00&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
                &lt;h2&gt;Les langues&lt;/h2&gt;
                &lt;div class="langs"&gt;
                &lt;div&gt;
                    &lt;h3&gt;Francais | MAT&lt;/h3&gt;
                    &lt;p&gt; Niveau : 80&lt;/p&gt;
                    &lt;p&gt; Niveau : C1&lt;/p&gt;
                &lt;/div&gt;
                &lt;/div&gt;
                    &lt;h2&gt;Les informations complémentaires&lt;/h2&gt;
                    &lt;div class="comments"&gt;
                        &lt;div&gt;
                            &lt;h2&gt;Titre&lt;/p&gt;
                        &lt;/div&gt;
                        &lt;p&gt;Commentaire&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;footer&gt;&lt;a href="/"&gt;Retour sur la page d'accueil&lt;/a&gt;&lt;/footer&gt;
&lt;/body&gt;

    &lt;!-- En cas d'erreur --&gt;
&lt;html>

&lt;head>
	&lt;meta charset="UTF-8"&gt;
	&lt;title&gt; Détail d'un CV&lt;/title&gt;
    &lt;link rel="stylesheet" href="/web/styles/detail_cv.css"&gt;
&lt;/head&gt;

&lt;body&gt;
	&lt;div id="error"&gt; 2 | ERROR &lt;/div&gt;
    &lt;footer&gt;&lt;a href="/"&gt;Retour sur la page d'accueil&lt;/a&gt;&lt;/footer&gt;
&lt;/body&gt;</pre>
    </div>
    <hr>
    <div class="operation">
        <h3>URL : /cv24/insert</h3>
        <p style="background-color: #49cc90"><strong>POST</strong></p>
        <p><strong>Opération :</strong> Ajout d’un CV dans la base</p>
        <p><strong>Transmis :</strong> Flux XML respectant la spécification cv24 à ajouter, conforme au schéma xsd.</p>
        <p><strong>Description :</strong> Le flux reçu est validé par le schéma XSD de définition cv24. Si le flux est déjà présent, c'est-à-dire si les informations genre, nom, prénom et tel sont identiques, alors une indication d’erreur est retournée. Si l’opération est réussie, alors le CV est ajouté à la base et sa persistance est assurée. La valeur de &lt;id&gt; est générée automatiquement, par incrémentation de la dernière valeur enregistrée. Cette valeur doit obligatoirement être unique.</p>
        <p><strong>Retour :</strong> Le flux XML retourné contient les informations suivantes :</p>
        <ul>
            <li>id → numéro d’identifiant attribué à la spécification soumise</li>
            <li>status → INSERTED</li>
        </ul>
        <p>En cas d’échec de l’opération, les informations de statut seront retournées :</p>
        <ul>
            <li>status → ERROR</li>
            <li>detail → INVALID | DUPLICATED ⇒ Selon l'origine de l'erreur</li>
        </ul>
        <p><strong>Exemple de commande :</strong></p>
        <div class="command">
            <code>POST http://votre-domaine.com/cv24/insert</code>
        </div>
        <p><strong>Exemple de retour :</strong></p>
        <pre>&lt;response&gt;
    &lt;id&gt;2&lt;/id&gt;
    &lt;status&gt;INSERTED&lt;/status&gt;
&lt;/response&gt;

&lt;!-- En cas d'erreur --&gt;
&lt;response&gt;
    &lt;status&gt;ERROR&lt;/status&gt;
    &lt;detail&gt;DUPLICATED&lt;/detail&gt;
&lt;/response&gt;

&lt;!-- En cas d'erreur de syntaxe --&gt;
&lt;response&gt;
    &lt;status&gt;ERROR&lt;/status&gt;
    &lt;detail&gt;INVALID&lt;/detail&gt;
&lt;/response&gt;
        </pre>
    </div>
    <hr>
    <div class="operation">
        <h3>URL : /cv24/delete</h3>
        <p style="background-color: #f93e3e"><strong>DELETE</strong></p>
        <p><strong>Opération :</strong> Suppression d’un CV</p>
        <p><strong>Transmis :</strong> Valeur de l'identifiant &lt;id&gt;</p>
        <p><strong>Retour :</strong> Flux XML</p>
        <p><strong>Description :</strong> Suppression du CV dont l’identifiant est &lt;id&gt;. Si l’opération a réussi, retour des informations suivantes :</p>
        <ul>
            <li>id → Numéro d’identifiant du CV qui a été supprimé</li>
            <li>status → DELETED</li>
        </ul>
        <p>Si l’opération a échoué :</p>
        <ul>
            <li>status → ERROR</li>
        </ul>
        <p><strong>Exemple de commande :</strong></p>
        <div class="command">
            <code>DELETE http://votre-domaine.com/cv24/delete?id=1 </code>
        </div>
        <p><strong>Exemple de retour :</strong></p>
        <pre>&lt;response&gt;
    &lt;id&gt;1&lt;/id&gt;
    &lt;status&gt;DELETED&lt;/status&gt;
&lt;/response&gt;

&lt;!-- En cas d'erreur --&gt;
&lt;response&gt;
    &lt;id&gt;1&lt;/id&gt;
    &lt;status&gt;ERROR&lt;/status&gt;
&lt;/response&gt;</pre>
    </div>
    <hr>
    <div class="operation">
        <h3>URL : /cv24/search?...</h3>
        <p style="background-color: #61affe;"><strong>GET</strong></p>
        <p><strong>Opération :</strong> Recherche la liste des spécifications répondant aux contraintes exprimées dans la requête</p>
        <p><strong>Description :</strong> Recherche par date ou par objectif. Les critères de recherche incluent :</p>
        <ul>
            <li>date : Liste des spécifications dont la date est identique, ou postérieure à celle indiquée dans la requête</li>
            <li>objectif : Liste des CV dont l'objectif spécifié comprend au moins l'un des mots de la requête</li>
        </ul>
        <p><strong>Retour :</strong> Flux XML comprenant la liste des articles répondant aux critères de recherche exprimés. Le format sera semblable à celui utilisé pour présenter la liste des articles. Si l’opération a réussi, mais que la liste est vide, alors seul le statut sera retourné :</p>
        <ul>
            <li>status = NONE</li>
        </ul>
        <p>Si l’opération a échoué (format de contrainte incorrect, ...), retourner le statut :</p>
        <ul>
            <li>status = ERROR</li>
        </ul>
        <p>Recherche des CV en fonction de la date</p>
        <p><strong>Exemple de commande :</strong></p>
        <div class="command">
            <code>GET http://votre-domaine.com/cv24/search?obj=Developpeur&date=2024-01-01 </code>
        </div>
        <p><strong>Exemple de retour :</strong></p>
        <pre>&lt;response&gt;
    &lt;cv&gt;
        &lt;id&gt;1&lt;/id&gt;
        &lt;identite&gt;
            &lt;genre&gt;Mme&lt;/genre&gt;
            &lt;prenom&gt;Martin&lt;/prenom&gt;
            &lt;nom&gt;MOUHNO&lt;/nom&gt;
        &lt;/identite&gt;
        &lt;objectif statut="stage"&gt;Developpeur&lt;/objectif&gt;
        &lt;diplome&gt;PREPA PTSI&lt;/diplome&gt;
    &lt;/cv&gt;
&lt;/response&gt;

&lt;!-- En cas de résultat vide --&gt;
&lt;response&gt;
    &lt;status&gt;NONE&lt;/status&gt;
&lt;/response&gt;

&lt;!-- En cas d'erreur de syntaxe --&gt;
&lt;response&gt;
    &lt;status&gt;ERROR&lt;/status&gt;
&lt;/response&gt;</pre>
    </div>

    <footer>
        <a href="/">Retour sur la page d'accueil</a>
    </footer>

</div>
</body>
</html>